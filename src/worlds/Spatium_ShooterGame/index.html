<html>
<head>
  <!-- Circles' head scripts [REQUIRED] -->
  <circles-start-scripts/>

<!-- Additional Scripts -->

<script src="js/click-to-shoot.js"></script>
<script  src="js/hit-handler.js"></script>
<script  src="js/attach-gun.js"></script>
<script src="js/spawn-enemies.js"></script>
<script src="https://unpkg.com/aframe-super-shooter-kit/dist/aframe-super-shooter-kit.min.js"></script>
<script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
<scrip src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></scrip>



</head>

<body>
  <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
  <circles-start-ui/>

  <!-- a-scene with 'circles-properties' component [REQUIRED] -->
  <a-scene circles_scene_properties  attach-gun spawn-enemies="enemies_per_wave:10; waves:1;">
    <a-assets>

      <!-- Audio -->
      <audio id="shooterMusic-music" src="/worlds/Spatium_ShooterGame/assets/audio/shooterMusic.mp3" preload="true"></audio>

      <!-- 3D Models-->
      <a-asset-item id="cockpit-model" src="/worlds/Spatium_ShooterGame/assets/models/spaceshipDrive.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="ufo-model" src="/worlds/Spatium_ShooterGame/assets/models/ufo.glb" response-type="arraybuffer"></a-asset-item>


      <!-- Circles' built-in assets [REQUIRED] -->
      <circles-assets/>
    </a-assets>

    <!-- Circles' built-in manager and avatar [REQUIRED] -->
    <circles-manager-avatar/>


<!-- Start own code here -->

<!--Environment Model-->
<a-entity id = "cockpit" gltf-model="#cockpit-model" scale="12.7 12.7 12.7" rotation="0 180 0" shadow="" position="0.90401 0.6897 -0.89763"></a-entity>

<!-- Lighting -->
<a-entity light="color: #ffffff; groundColor: #79a8bb; intensity: 0.3; type: hemisphere"></a-entity>
<a-entity position="0 10.41373 0" light="intensity: 6.53; type: point" visible=""></a-entity>
<a-entity position="0 1.42802 0" light="intensity: 0.5; type: point; color: #85ffda" visible=""></a-entity>

<!-- Music -->
<a-entity circles-sound= "type:music; src:#shooterMusic-music; autoplay:true; loop:true; volume: 0.5;"></a-entity>

<!-- Spawnpoint -->
<a-entity circles-checkpoint circles-spawnpoint position="0.98 0.05 -5.3"></a-entity>


<!-- Tried to include a  cursor in the middle of the screen to indicate where player is shooting but it doesn't work -->
<a-entity id = "cursor"  
position="0 1.6 -2"
geometry="primitive: ring; radius-inner: 0.02; radius-outer: 0.03"
material="color: white;"></a-entity> 



<!-- Bullet Geo-->
<a-entity bullet="name: normal;" geometry="primitive: icosahedron; radius: 0.1;" material="color: #FF7; emissiveIntensity: 0.5; emissive: #FF7"></a-entity>

<!--Link back to Hub world -->
<a-entity id="hub_link" position="1 2 0" rotation="0 180 0" scale="1 1 1" circles-portal= "title_text:Spatium Hub; link_url:/w/Spatium_Hub" visible = "false"></a-entity>

<!-- Environmet Background -->
<a-entity environment="preset: starry; ground: none;"></a-entity>

  </a-scene>

  <!-- Circles' end scripts [REQUIRED] -->
  <circles-end-scripts/>
 </body>
</html>